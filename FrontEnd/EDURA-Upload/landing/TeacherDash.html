<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edura Parent Dashboard</title>
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Base Styles */
:root {
    --primary-color: #4361ee;
    --primary-light: #e6edff;
    --secondary-color: #3a0ca3;
    --success-color: #4caf50;
    --warning-color: #ff9800;
    --danger-color: #f44336;
    --text-primary: #333333;
    --text-secondary: #666666;
    --text-tertiary: #999999;
    --bg-light: #f8f9fa;
    --bg-white: #ffffff;
    --border-color: #e0e0e0;
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    color: var(--text-primary);
    background-color: var(--bg-light);
    line-height: 1.6;
}

h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.3;
}

a {
    text-decoration: none;
    color: var(--primary-color);
}

ul {
    list-style: none;
}

button {
    cursor: pointer;
    font-family: 'Inter', sans-serif;
}

/* Dashboard Layout */
.dashboard {
    display: flex;
    min-height: 100vh;
}

/* Sidebar */
.sidebar {
    width: 260px;
    background-color: var(--bg-white);
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    position: fixed;
    height: 100vh;
}

.logo {
    padding: 24px;
    border-bottom: 1px solid var(--border-color);
}

.logo h1 {
    color: var(--primary-color);
    font-size: 24px;
}

.nav {
    flex: 1;
    padding: 16px 0;
}

.nav ul li {
    margin-bottom: 4px;
}

.nav ul li a {
    display: flex;
    align-items: center;
    padding: 12px 24px;
    color: var(--text-secondary);
    transition: all 0.3s ease;
}

.nav ul li a:hover {
    background-color: var(--primary-light);
    color: var(--primary-color);
}

.nav ul li.active a {
    background-color: var(--primary-light);
    color: var(--primary-color);
    font-weight: 500;
}

.icon {
    margin-right: 12px;
    font-size: 18px;
}

.sidebar-footer {
    padding: 16px 24px;
    border-top: 1px solid var(--border-color);
}

.parent-profile {
    display: flex;
    align-items: center;
}

.avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--primary-light);
    color: var(--primary-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    margin-right: 12px;
}

.info .name {
    font-weight: 500;
    font-size: 14px;
}

.info .username {
    font-size: 12px;
    color: var(--text-tertiary);
}

/* Main Content */
.main-content {
    flex: 1;
    margin-left: 260px;
    padding: 24px;
}

/* Header */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
}

.header-title h1 {
    font-size: 24px;
    margin-bottom: 4px;
}

.header-title p {
    color: var(--text-secondary);
    font-size: 14px;
}

.header-actions {
    display: flex;
    align-items: center;
}

.search {
    display: flex;
    align-items: center;
    margin-right: 16px;
}

.search input {
    padding: 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    font-size: 14px;
    width: 200px;
}

.search button {
    background: none;
    border: none;
    margin-left: -30px;
    color: var(--text-tertiary);
}

.notifications button {
    background: none;
    border: none;
    font-size: 20px;
    position: relative;
}

/* Child Selector */
.child-selector {
    display: flex;
    gap: 16px;
    margin-bottom: 24px;
    overflow-x: auto;
    padding-bottom: 8px;
}

.child-card {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    background-color: var(--bg-white);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
    min-width: 200px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.child-card:hover {
    border-color: var(--primary-color);
}

.child-card.selected {
    border-color: var(--primary-color);
    background-color: var(--primary-light);
}

.child-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--primary-color);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    margin-right: 12px;
}

.child-info h3 {
    font-size: 16px;
    margin-bottom: 2px;
}

.child-info p {
    font-size: 12px;
    color: var(--text-secondary);
}

.add-child {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 12px 16px;
    background-color: var(--bg-white);
    border-radius: var(--radius-md);
    border: 1px dashed var(--border-color);
    min-width: 120px;
    color: var(--text-secondary);
    font-size: 14px;
    transition: all 0.3s ease;
}

.add-child:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
}

/* Section Styles */
section {
    background-color: var(--bg-white);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin-bottom: 24px;
    box-shadow: var(--shadow-sm);
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.section-header h2 {
    font-size: 18px;
}

.time-filter select {
    padding: 6px 12px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    font-size: 14px;
    color: var(--text-secondary);
}

.view-all {
    font-size: 14px;
    color: var(--primary-color);
}

/* Stats Grid */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
}

.stat-card {
    display: flex;
    align-items: center;
    padding: 16px;
    background-color: var(--bg-white);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
}

.stat-icon {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    margin-right: 16px;
}

.stat-info h3 {
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: 4px;
}

.stat-value {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 2px;
}

.stat-change {
    font-size: 12px;
}

.positive {
    color: var(--success-color);
}

.negative {
    color: var(--danger-color);
}

/* Chart Container */
.chart-container {
    width: 100%;
    height: 300px;
}

/* Two Column Layout */
.two-column {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
}

/* Activity List */
.activity-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.activity-item {
    display: flex;
    align-items: flex-start;
    padding: 12px;
    background-color: var(--bg-light);
    border-radius: var(--radius-md);
}

.activity-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    margin-right: 12px;
}

.activity-icon.game {
    background-color: #e6f7ff;
    color: #0099ff;
}

.activity-icon.quiz {
    background-color: #fff2e6;
    color: #ff9900;
}

.activity-details h4 {
    font-size: 14px;
    margin-bottom: 2px;
}

.activity-details p {
    font-size: 13px;
    color: var(--text-secondary);
}

.activity-time {
    font-size: 12px !important;
    color: var(--text-tertiary) !important;
    margin-top: 4px;
}

/* Strengths & Areas for Improvement */
.strengths-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
}

.strength-area h3 {
    font-size: 16px;
    margin-bottom: 16px;
}

.strength-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.strength-list li {
    display: flex;
    align-items: flex-start;
}

.strength-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    margin-right: 12px;
}

.strength-icon.strong {
    background-color: #e6ffe6;
    color: var(--success-color);
}

.strength-icon.improve {
    background-color: #fff2e6;
    color: var(--warning-color);
}

.strength-details {
    flex: 1;
}

.strength-details h4 {
    font-size: 14px;
    margin-bottom: 6px;
}

.progress-bar {
    height: 8px;
    background-color: var(--bg-light);
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 4px;
}

.progress {
    height: 100%;
    background-color: var(--primary-color);
    border-radius: 4px;
}

.strength-details p {
    font-size: 12px;
    color: var(--text-secondary);
}

/* Recommendations */
.recommendations-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
}

.recommendation-card {
    display: flex;
    align-items: flex-start;
    padding: 16px;
    background-color: var(--bg-light);
    border-radius: var(--radius-md);
}

.recommendation-icon {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-md);
    background-color: var(--primary-light);
    color: var(--primary-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    margin-right: 16px;
}

.recommendation-content h3 {
    font-size: 16px;
    margin-bottom: 4px;
}

.recommendation-content p {
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: 12px;
}

.recommend-btn {
    padding: 6px 12px;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    font-size: 12px;
    transition: all 0.3s ease;
}

.recommend-btn:hover {
    background-color: var(--secondary-color);
}

/* Responsive Design */
@media (max-width: 1200px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .recommendations-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 992px) {
    .two-column {
        grid-template-columns: 1fr;
    }
    
    .strengths-container {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .sidebar {
        display: none;
    }
    
    .main-content {
        margin-left: 0;
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .recommendations-grid {
        grid-template-columns: 1fr;
    }
}
/* Recent Activity Section Styling */
.activity-section {
    background-color: var(--bg-white);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin-bottom: 24px;
    box-shadow: var(--shadow-sm);
}

.activity-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    background-color: var(--bg-light);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
    transition: all 0.3s ease-in-out;
}

.activity-item:hover {
    background-color: var(--primary-light);
    transform: scale(1.02);
    box-shadow: var(--shadow-md);
}

.history-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.history-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
    background-color: var(--bg-white);
    transition: all 0.3s ease-in-out;
}

.history-item:hover {
    background-color: var(--primary-light);
    transform: scale(1.02);
}

.history-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: px;
    margin-right: 12px;
}

.history-icon.game-icon {
    background-color: #e6f7ff;
    color: #0099ff;
}

.history-icon.quiz-icon {
    background-color: #fff2e6;
    color: #ff9900;
}

.history-details h4 {
    font-size: 5px;
    margin-bottom: 2px;
    color: var(--text-primary);
}

.history-details p {
    font-size: 12px;
    color: var(--text-secondary);
}

/* Toggle Button Styling */
.toggle-btn {
    padding: 8px 16px;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-size: 14px;
    cursor: pointer;
    transition: background 0.3s;
}

.toggle-btn:hover {
    background-color: var(--secondary-color);
}
/* 📌 Activity Section Styling */
.activity-section {
    background-color: var(--bg-white);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin-bottom: 24px;
    box-shadow: var(--shadow-sm);
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
    padding: 12px 20px;
    background: var(--primary-light);
    border-radius: var(--radius-lg);
    color: var(--text-primary);
    font-size: 18px;
    font-weight: bold;
}

.toggle-btn {
    padding: 8px 14px;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.toggle-btn:hover {
    background-color: var(--secondary-color);
    transform: scale(1.05);
}

/* 📌 History List Container */
.history-container {
    max-height: 350px; /* Adjust scroll height */
    overflow-y: auto;
    padding: 15px;
    background: var(--bg-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
}

/* Custom Scrollbar */
.history-container::-webkit-scrollbar {
    width: 8px;
}

.history-container::-webkit-scrollbar-track {
    background: var(--bg-light);
    border-radius: var(--radius-md);
}

.history-container::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: var(--radius-md);
}

.history-container::-webkit-scrollbar-thumb:hover {
    background: var(--secondary-color);
}

/* 📌 History Items */
.history-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 10px;
}

.history-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px;
    background-color: var(--bg-white);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-md);
    transition: all 0.3s ease-in-out;
}

.history-item:hover {
    background: var(--primary-light);
    transform: translateY(-2px);
}

/* 📌 Icons */
.history-icon {
    width: 42px;
    height: 42px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 20px;
    margin-right: 16px;
    flex-shrink: 0;
}

.history-icon.quiz-icon {
    background-color: #fff2e6;
    color: #ff9900;
}

.history-icon.game-icon {
    background-color: #e6f7ff;
    color: #0099ff;
}

/* 📌 History Details */
.history-details {
    flex-grow: 1;
    text-align: left;
}

.history-details h4 {
    font-size: 16px;
    font-weight: bold;
    color: var(--text-primary);
    margin: 0;
}

.history-details p {
    font-size: 13px;
    color: var(--text-secondary);
    margin: 2px 0 0;
}

.time-ago {
    font-size: 12px;
    color: var(--text-secondary);
    text-align: right;
    white-space: nowrap;
}

/* 📌 Coin/Score Display */
.coins-earned {
    display: flex;
    align-items: center;
    font-size: 14px;
    font-weight: bold;
    color: gold;
    gap: 6px;
}
/* 📌 Styling the Activity Section */
.activity-section {
    background-color: var(--bg-white);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin-bottom: 24px; /* Consistent spacing */
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.history-list {
    max-height: 250px;
    overflow-y: auto;
    padding-right: 10px;
}

/* 🌟 Custom Scrollbar */
.history-list::-webkit-scrollbar {
    width: 8px;
}

.history-list::-webkit-scrollbar-track {
    background: var(--bg-light);
    border-radius: var(--radius-md);
}

.history-list::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: var(--radius-sm);
}

.history-item {
    display: flex;
    align-items: center;
    background: var(--bg-light);
    padding: 12px;
    margin: 8px 0;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    transition: all 0.3s ease-in-out;
}

.history-item:hover {
    background: var(--primary-light);
    transform: translateY(-3px);
    box-shadow: var(--shadow-md);
}

.history-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 20px;
    margin-right: 15px;
}

.history-icon.quiz-icon {
    background-color: #ffedc2;
    color: #ff9900;
}

.history-icon.game-icon {
    background-color: #e6f7ff;
    color: #0099ff;
}

.history-details {
    flex-grow: 1;
}

.history-details h3 {
    font-size: 16px;
    font-weight: bold;
    color: var(--text-primary);
    margin: 0;
}

.history-details p {
    font-size: 12px;
    color: var(--text-secondary);
    margin: 4px 0;
}

.coins-earned {
    display: flex;
    align-items: center;
    font-size: 10px;
    font-weight: bold;
    color: gold;
    gap: 5px;
}

.time-ago {
    font-size: 8px;
    color: var(--text-secondary);
    text-align: right;
    margin-left: 5px;
}


.toggle-btn {
    padding: 8px 16px;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.toggle-btn:hover {
    background-color: var(--secondary-color);
    transform: scale(1.05);
}
#green{
    color: #4caf50;
}
/* Custom Scrollbar */
.history-list {
    max-height: 300px; /* Adjust as needed */
    overflow-y: auto;
    padding-right: 10px;
}

/* Styled Scrollbar */
.history-list::-webkit-scrollbar {
    width: 8px;
}

.history-list::-webkit-scrollbar-track {
    background: var(--bg-light);
    border-radius: var(--radius-md);
}

.history-list::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: var(--radius-md);
}

.history-list::-webkit-scrollbar-thumb:hover {
    background: var(--secondary-color);
}
/* Strengths & Areas for Improvement Scrollbar */
.strengths-container {
    max-height: 300px; /* Adjust as needed */
    overflow-y: auto;
    padding-right: 10px;
}

/* Custom Scrollbar for Strengths & Areas for Improvement */
.strengths-container::-webkit-scrollbar {
    width: 8px;
}

.strengths-container::-webkit-scrollbar-track {
    background: var(--bg-light);
    border-radius: var(--radius-md);
}

.strengths-container::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: var(--radius-md);
}

.strengths-container::-webkit-scrollbar-thumb:hover {
    background: var(--secondary-color);
}
.logout-btn {
    background-color: var(--danger-color);
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: var(--radius-md);
    cursor: pointer;
    font-size: 14px;
    transition: background 0.3s;
    width: 100%;
    text-align: center;
    margin-top: 20px;
}

.logout-btn:hover {
    background-color: darkred;
    transform: scale(1.05);
}
@media (max-width: 768px) {
    #sidebarToggle {
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 1100; /* Ensure this is higher than the sidebar's z-index */
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: var(--radius-md);
        padding: 8px 14px;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.3s ease;
      }
    .sidebar {
      display: none;
    }
    /* Show sidebar as fixed overlay when active */
    .sidebar.active {
      display: block;
      position: fixed;
      top: 0;
      left: 0;
      width: 260px;
      height: 100%;
      z-index: 1000;
      background-color: var(--bg-white);
      box-shadow: var(--shadow-md);
    }
    
    /* Ensure toggle button is visible on mobile */
    #sidebarToggle {
      display: inline-block;
    }
    .main-content{
        margin-top: 25px;
    }
    .logo{
        padding-top: 50px;
    }
  }
  
  
  





    </style>
    <style>
        /* Add to existing styles */
        .grade-input-group {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }
    
        .grade-input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-family: 'Inter', sans-serif;
            width: 160px;
        }
    
        .student-dropdown {
            background: var(--bg-white);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-md);
            max-height: 400px;
            overflow-y: auto;
        }
    
        .student-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
    
        .student-item:hover {
            background-color: var(--primary-light);
        }
    
        .student-item.selected {
            background-color: var(--primary-light);
            border-left: 4px solid var(--primary-color);
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <h1>Edura</h1>
            </div>
            <nav class="nav">
                <ul>
                    <li class="active"><a href="#"><span class="icon">📊</span> Dashboard</a></li>
                    <li><a href="/landing/dashboard.html"><span class="icon">👨‍👧‍👦</span> Children Dashboard</a></li>
                    <li><a href="/landing/Report.html"><span class="icon">📝</span> Reports</a></li>
                    <li><a href="/landing/questMaster.html"><span class="icon">🔥</span> Quest</a></li>
                    <li><a href="/landing/Chatbot.html"><span class="icon">🤖</span> Edura  AI</a></li>
                    
                </ul>
            </nav>
            <div class="sidebar-footer">
                <div class="parent-profile">
                    <div class="avatar">👤</div>
                    <div class="info">
                        <p class="name">Parent Username</p>
                        <p class="username" id="parentUsername">@johnsmith</p>
                    </div>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <button id="sidebarToggle" class="toggle-btn">☰</button>
                <div class="header-title">
                    <h1>Parent Dashboard</h1>
                    <p>Monitor your child's educational progress</p>
                
            
        
    
                    
            </header>

            <!-- Child Selection -->
            <div class="child-selector">
                <div class="grade-input-group">
                    <input type="number" id="gradeInput" class="grade-input" 
                           placeholder="Enter Grade (1-12)" min="1" max="12">
                    <button class="toggle-btn" onclick="loadStudents()">Load Students</button>
                </div>
                <div id="studentDropdown" class="student-dropdown"></div>
            </div>

            <!-- Overview Section -->
            <section class="overview-section">
                <div class="section-header">
                    <h2>Overview</h2>
                    
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: #e6f7ff;">📈</div>
                        <div class="stat-info">
                            <h3>Current Level</h3>
                            <p class="stat-value">Level 7</p>
                           
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: #fff2e6;">🔥</div>
                        <div class="stat-info">
                            <h3>Current Streak</h3>
                            <p class="stat-value" id="streakValue">Loading...</p>
                            <!-- <p class="stat-change positive">Best: <span id="bestStreak">Loading...</span> days</p> -->
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: #e6ffe6;">🎯</div>
                        <div class="stat-info">
                            <h3>Accuracy</h3>
                            <p class="stat-value" id="accuracyValue">87%</p>
                            <!-- <p class="stat-change positive">+5% since last month</p> -->
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: #f0e6ff;">📝</div>
                        <div class="stat-info">
                            <h3>Quizzes Attempted</h3>
                            <p class="stat-value quiz-count">Loading...</p>
                            
                        </div>
                    </div>
                </div>
            </section>

            <!-- Subject Performance -->
            <section class="performance-section">
                <div class="section-header">
                    <h2>Subject Performance</h2>
                </div>
                <div class="chart-container">
                    <canvas id="subjectChart"></canvas>
                </div>
            </section>

            <div class="two-column">
                <!-- Recent Activity -->
                <section class="activity-section">
                    <div class="section-header">
                        <h2>Recent Activity</h2>
                        <button id="historyToggle" class="toggle-btn" data-type="game">Show Quiz History</button>
                    </div>
                    <div class="history-list"> 
                        <p>Loading history...</p> 
                    </div>
                </section>
                

                <!-- Strengths & Areas for Improvement -->
                <section class="strengths-section">
                    <div class="section-header">
                        <h2>Strengths & Areas for Improvement</h2>
                    </div>
                    <div class="strengths-container">
                        <div class="strength-area">
                            <h3>Strengths</h3>
                            <ul class="strength-list" id="strengthList">
                                <!-- Strength categories will be inserted here dynamically -->
                            </ul>
                        </div>
                        <div class="strength-area">
                            <h3>Areas for Improvement</h3>
                            <ul class="strength-list improve-list">
                                <!-- Weak subjects will be inserted here -->
                            </ul>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Weekly Progress -->
            

            <!-- Recommendations -->
            
        </main>
    </div>
    <script>
        // Replace existing student selection logic with this
        
        async function loadStudents() {
            const grade = document.getElementById("gradeInput").value;
            if (!grade || grade < 1 || grade > 12) {
                alert("Please enter a valid grade between 1 and 12");
                return;
            }
        
            try {
                const response = await fetch(`http://192.168.14.32:5000/byGrade/${grade}`);
                if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
                
                const students = await response.json();
                
                const dropdown = document.getElementById("studentDropdown");
                dropdown.innerHTML = students.map(student => `
                    <div class="student-item" data-username="${student.username}" 
                         onclick="selectStudent('${student.username}')">
                        <div class="child-avatar">
                            <img src="/avatars/${student.username}.png" alt="${student.name}"
                                 onerror="this.src='/avatars/default.png'" 
                                 width="40" height="40">
                        </div>
                        <div class="child-info">
                            <h3>${student.name}</h3>
                            <p>Grade ${student.grade}</p>
                        </div>
                    </div>
                `).join('');
        
            } catch (error) {
                console.error("Error loading students:", error);
                alert("Failed to load students: " + error.message);
            }
        }
        
        function selectStudent(username) {
            // Update stored username and refresh dashboard data
            localStorage.setItem("loginUsername", username);
            
            // Update UI selection
            document.querySelectorAll('.student-item').forEach(item => {
                item.classList.remove('selected');
                if (item.dataset.username === username) {
                    item.classList.add('selected');
                }
            });
        
            // Refresh all dashboard components
            try {
                fetchUserGrade();
                fetchAndUpdateLevel();
                fetchQuizAttemptCount();
                fetchAndRenderStreakAndAccuracy();
                fetchHistory("game");
                updateStrengthsAndImprovements();
                fetchAndUpdateSubjectPerformance();
            } catch (error) {
                console.error("Error updating dashboard:", error);
                alert("Failed to load student data");
            }
        }
        </script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const username = localStorage.getItem("parentUsername");
            if (username) {
                document.querySelector(".username").textContent = `@${username}`;
            }
        });
        
        function logout() {
            localStorage.removeItem("loginUsername");
            localStorage.removeItem("parentUsername");
            window.location.href = "../index.html";
        }
    </script>
    <script>
        
        async function fetchAndUpdateLevel() {
            const username = localStorage.getItem("loginUsername");
            if (!username) {
                console.error("Username not found in localStorage");
                return;
            }
    
            try {
                const response = await fetch(`${baseUrl}/childProfile/${encodeURIComponent(username)}`);
                if (!response.ok) throw new Error(`Game History API Error: ${response.status}`);
                
                const data = await response.json();
                const gameRecords = data.gameRecords || [];
    
                let totalGamesPlayed = 0;
                
                gameRecords.forEach(record => {
                    if (record.scoreHistory && Array.isArray(record.scoreHistory)) {
                        totalGamesPlayed += record.scoreHistory.length;
                    }
                });
    
                // Determine level based on games played
                const level = Math.floor(totalGamesPlayed / 10);
                
                // Update UI
                document.querySelector(".stat-value").textContent = `Level ${level}`;
            } catch (error) {
                console.error("Error fetching game history:", error);
                document.querySelector(".stat-value").textContent = "Error";
            }
        }
    
        document.addEventListener("DOMContentLoaded", () => {
            fetchAndUpdateLevel();
        });
        
    </script>
    <script>
        const apiBaseUrl = "http://iiit1127.us-east-2.elasticbeanstalk.com"; // Ensure this is defined in your existing script
    
        async function fetchUserGrade() {
            const username = localStorage.getItem("loginUsername");
    
            if (!username) {
                console.error("Username not found in localStorage");
                showFeedback("User not found. Please log in again.", "incorrect");
                return;
            }
    
            try {
                const url = `${apiBaseUrl}/child/${encodeURIComponent(username)}`;
                console.log("Fetching child details from:", url);
    
                const response = await fetch(url, { method: "GET", headers: { "Content-Type": "application/json" } });
    
                if (!response.ok) {
                    throw new Error(`API Error: ${response.status} ${response.statusText}`);
                }
    
                const userData = await response.json();
                if (!userData || !userData.grade || !userData.name) {
                    throw new Error("Invalid data received from API.");
                }
    
                window.userGrade = userData.grade;
                document.getElementById("childGrade").textContent = `Grade ${userData.grade}`;
                document.getElementById("childName").textContent = userData.name;
    
                // Update avatar based on grade (level)
                const avatarElement = document.getElementById("childAvatar");
                avatarElement.src = `/avatars/${userData.grade}.png`;
                avatarElement.alt = `Avatar for Level ${userData.grade}`;
            } catch (error) {
                console.error("Error fetching child details:", error);
                showFeedback("Failed to load child details. Please check your connection.", "incorrect");
                document.getElementById("childGrade").textContent = "Grade: N/A";
                document.getElementById("childAvatar").src = "/avatars/default.png";
            }
        }
    
        document.addEventListener("DOMContentLoaded", fetchUserGrade);
    </script>
    
    <script>
        async function fetchQuizAttemptCount() {
            const username = localStorage.getItem("loginUsername");
            if (!username) {
                console.error("Username not found in localStorage");
                return;
            }
        
            try {
                const response = await fetch(`${baseUrl}/leaderboard/history/${encodeURIComponent(username)}`);
                if (!response.ok) {
                    throw new Error(`Quiz History API Error: ${response.status}`);
                }
        
                const data = await response.json();
                if (!data || !Array.isArray(data)) {
                    console.error("Invalid quiz history data.");
                    return;
                }
        
                // Count quizzes attempted
                const quizCount = data.length || 0;
        
                // Update UI
                const quizCountElement = document.querySelector(".stat-value.quiz-count");
                if (quizCountElement) {
                    quizCountElement.textContent = quizCount;
                }
        
            } catch (error) {
                console.error("Error fetching quiz history:", error);
                document.querySelector(".stat-value.quiz-count").textContent = "Error";
            }
        }
        
        // Load quiz attempt count on page load
        document.addEventListener("DOMContentLoaded", () => {
            fetchQuizAttemptCount();
        });
        </script>
    <script>
        <!-- const baseUrl = "http://iiit1127.us-east-2.elasticbeanstalk.com"; -->

async function fetchAndUpdateWeeklyProgress() {
    const username = localStorage.getItem("loginUsername");
    if (!username) {
        console.error("Username not found in localStorage");
        return;
    }

    try {
        const response = await fetch(`${baseUrl}/weeklyProgress/${encodeURIComponent(username)}`);
        if (!response.ok) throw new Error(`Weekly Progress API Error: ${response.status}`);

        const data = await response.json();
        
        if (!data || !data.labels || !data.scores) {
            console.error("Invalid or empty weekly progress data.");
            return;
        }

        updateWeeklyProgressChart(data.labels, data.scores);
    } catch (error) {
        console.error("Error fetching weekly progress:", error);
        document.getElementById("weeklyChart").innerHTML = '<p>Error fetching weekly progress.</p>';
    }
}

function updateWeeklyProgressChart(labels, scores) {
    if (weeklyChart) {
        weeklyChart.data.labels = labels;
        weeklyChart.data.datasets[0].data = scores;
        weeklyChart.update();
    }
}

// Initialize Weekly Progress Chart
const weeklyCtx = document.getElementById('weeklyChart').getContext('2d');
const weeklyChart = new Chart(weeklyCtx, {
    type: 'line',
    data: {
        labels: [],
        datasets: [{
            label: 'Time Spent (minutes)',
            data: [],
            backgroundColor: 'rgba(67, 97, 238, 0.1)',
            borderColor: 'rgba(67, 97, 238, 1)',
            borderWidth: 2,
            tension: 0.3,
            fill: true
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
            y: {
                beginAtZero: true
            }
        },
        plugins: {
            legend: { display: true }
        }
    }
});

// Load Weekly Progress Data
document.addEventListener("DOMContentLoaded", () => {
    fetchAndUpdateWeeklyProgress();
});

    </script>
    <script>
        const username = localStorage.getItem("loginUsername");
    
        async function getAvgScore(category) {
            const url = `http://iiit1127.us-east-2.elasticbeanstalk.com/leaderboard/${encodeURIComponent(username)}/${encodeURIComponent(category)}`;
    
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error(`Error fetching score for ${category}: ${response.status}`);
                }
                const data = await response.json();
                return parseFloat(data) || 0;
            } catch (error) {
                console.error(`Error fetching score for ${category}:`, error);
                return 0; // Default to 0 if error occurs
            }
        }
    
        async function updateStrengthsAndImprovements() {
            if (!username) {
                console.error("Username not found in localStorage");
                return;
            }
    
            const categories = ["Addition", "Subtraction", "Multiplication", "Division", "Reasoning", "General Knowledge", "Science"];
            const strengthsList = document.querySelector(".strength-list");
            const improveList = document.querySelector(".improve-list");
    
            // Clear existing lists
            strengthsList.innerHTML = "";
            document.querySelector(".improve-list").innerHTML = "";
    
            const scores = await Promise.all(categories.map(async (category) => {
                const score = await getAvgScore(category);
                return { category, score };
            }));
    
            strengthsList.innerHTML = "";
            document.querySelector(".improve-list").innerHTML = "";
    
            scores.forEach(({ category, score }) => {
                const listItem = document.createElement("li");
                listItem.innerHTML = `
                    <span class="strength-icon ${score >= 75 ? 'strong' : 'improve'}">💪</span>
                    <div class="strength-details">
                        <h4>${category}</h4>
                        <div class="progress-bar">
                            <div class="progress" style="width: ${score}%;"></div>
                        </div>
                        <p>${score.toFixed(2)}% accuracy</p>
                    `;
    
                if (score >= 60) {
                    strengthsList.appendChild(listItem);
                } else {
                    improveList.appendChild(listItem);
                }
            });
    
        }
    
        document.addEventListener("DOMContentLoaded", () => {
            updateStrengthsAndImprovements();
        });
    </script>
    <script>
        const baseUrl = "http://iiit1127.us-east-2.elasticbeanstalk.com";
        
        async function fetchAndRenderStreakAndAccuracy() {
            const username = localStorage.getItem("loginUsername");
    
            if (!username) {
                console.error("Username not found in localStorage");
                document.getElementById("streakValue").innerText = "No User";
                document.getElementById("accuracyValue").innerText = "N/A";
                return;
            }
    
            console.log("Fetching data for:", username);
    
            try {
                // Fetch streak
                const streakResponse = await fetch(`${baseUrl}/streak/${username}`);
                if (!streakResponse.ok) throw new Error(`Streak API Error: ${streakResponse.status}`);
    
                const streakText = await streakResponse.text();
                console.log("Raw Streak API Response:", streakText);
    
                let currentStreak;
                try {
                    currentStreak = JSON.parse(streakText).current_streak ?? parseInt(streakText) ?? 0;
                } catch {
                    currentStreak = parseInt(streakText) || "N/A";
                }
    
                console.log("Parsed Streak Data:", currentStreak);
    
                document.getElementById("streakValue").innerText = `${currentStreak} days`;
    
                // Fetch accuracy
                const accuracyResponse = await fetch(`${baseUrl}/leaderboard/accuracy/${encodeURIComponent(username)}`);
                if (!accuracyResponse.ok) throw new Error(`Accuracy API Error: ${accuracyResponse.status}`);
    
                const accuracyText = await accuracyResponse.text();
                console.log("Raw Accuracy API Response:", accuracyResponse);
    
                let accuracy;
                try {
                    accuracy = JSON.parse(accuracyText).accuracy ?? "N/A";
                } catch {
                    accuracy = parseFloat(accuracyText) || "N/A";
                }
    
                console.log("Parsed Accuracy Data:", accuracy);
    
                const accuracyElement = document.getElementById("accuracyValue");
                if (accuracyElement) {
                    accuracyElement.textContent = accuracy !== "N/A" ? `${parseFloat(accuracy).toFixed(2)}%` : "N/A";
                }
    
            } catch (error) {
                console.error("Error fetching data:", error);
                document.getElementById("streakValue").innerText = "Error";
                document.getElementById("accuracyValue").innerText = "Error";
            }
        }
    
        async function fetchHistory(historyType = "game") {
            const username = localStorage.getItem("loginUsername");
            if (!username) {
                console.error("Username not found in localStorage");
                return;
            }
    
            let url = historyType === "quiz" 
                ? `${baseUrl}/leaderboard/history/${encodeURIComponent(username)}`
                : `${baseUrl}/childProfile/${encodeURIComponent(username)}`;
    
            try {
                console.log(`Fetching ${historyType} history from:`, url);
                const response = await fetch(url, { method: "GET", headers: { "Content-Type": "application/json" } });
    
                if (!response.ok) {
                    throw new Error(`API Error: ${response.status} ${response.statusText}`);
                }
    
                const data = await response.json();
                let historyHTML = "";
    
                if (historyType === "quiz") {
                    if (!data || data.length === 0) {
                        historyHTML = "<p>No quiz history available.</p>";
                    } else {
                        historyHTML = data.map(quiz => `
                            <div class="history-item">
                                <div class="history-icon quiz-icon">📝</div>
                                <div class="history-details">
                                    <h3>${quiz.category}</h3>
                                </div>
                                <div class="quiz-score" id="green">${quiz.score} Points</div>
                                <p class="time-ago">${new Date(quiz.timeDate).toLocaleString()}</p>
                            </div>
                        `).join('');
                    }
    
                    const quizCountElement = document.querySelector(".stat-value.quiz-count");
                    if (quizCountElement) {
                        quizCountElement.textContent = data.length || 0;
                    }
    
                } else {
                    const gameRecords = data.gameRecords || [];
                    let totalGamesPlayed = 0;
                    let gameHistory = [];
    
                    gameRecords.forEach(record => {
                        if (record.scoreHistory && Array.isArray(record.scoreHistory)) {
                            totalGamesPlayed += record.scoreHistory.length;
                            record.scoreHistory.forEach(entry => {
                                gameHistory.push({
                                    game: record.game,
                                    learning: record.learning,
                                    timestamp: new Date(entry.timestamp)
                                });
                            });
                        }
                    });
    
                    gameHistory.sort((a, b) => b.timestamp - a.timestamp);
    
                    if (gameHistory.length === 0) {
                        historyHTML = "<p>No game history available.</p>";
                    } else {
                        historyHTML = gameHistory.map(item => `
                            <div class="history-item">
                                <div class="history-icon game-icon">🎮</div>
                                <div class="history-details">
                                    <h3>${item.game}</h3>
                                    <p>${item.learning}</p>
                                </div>
                                <div class="coins-earned">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="gold" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"></path>
                                        <path d="M12 18V6"></path>
                                    </svg>
                                    <span>+30 Coins</span>
                                </div>
                                <p class="time-ago">${item.timestamp.toLocaleString()}</p>
                            </div>
                        `).join('');
                    }
    
                    const gameCountElement = document.querySelector(".stat-value.game-count");
                    if (gameCountElement) {
                        gameCountElement.textContent = totalGamesPlayed;
                    }
                }
    
                document.querySelector(".history-list").innerHTML = historyHTML;
    
            } catch (error) {
                console.error(`Error fetching ${historyType} history:`, error);
                document.querySelector(".history-list").innerHTML = `<p>Failed to load ${historyType} history.</p>`;
            }
        }
    
        // Toggle button for game/quiz history
        function setupHistoryToggle() {
            const historyToggle = document.getElementById("historyToggle");
            if (!historyToggle) {
                console.error("History toggle button not found!");
                return;
            }
    
            historyToggle.addEventListener("click", function () {
                const currentType = historyToggle.getAttribute("data-type") || "game";
                const newType = currentType === "game" ? "quiz" : "game";
                
                historyToggle.setAttribute("data-type", newType);
                historyToggle.innerText = newType === "game" ? "Show Quiz History" : "Show Game History";
    
                fetchHistory(newType);
            });
        }
    
        // Run functions when page loads
        document.addEventListener("DOMContentLoaded", () => {
            fetchAndRenderStreakAndAccuracy();
            fetchHistory("game"); // Load game history by default
            setupHistoryToggle(); // Set up the toggle button
        });
    </script>
    <script>
    async function fetchAndUpdateSubjectPerformance() {
        const username = localStorage.getItem("loginUsername");
        if (!username) {
            console.error("Username not found in localStorage");
            return;
        }

        const categories = ["Addition", "Subtraction", "Multiplication", "Division", "Science", "General Knowledge", "Reasoning"];
        
        const scores = await Promise.all(categories.map(async (category) => {
            return await getAvgScore(category);
        }));

        // Update Subject Performance Chart
        subjectChart.data.labels = categories;
        subjectChart.data.datasets = [{
            label: 'Current Performance',
            data: scores,
            backgroundColor: 'rgba(67, 97, 238, 0.2)',
            borderColor: 'rgba(67, 97, 238, 1)',
            borderWidth: 2,
            pointBackgroundColor: 'rgba(67, 97, 238, 1)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgba(67, 97, 238, 1)'
        }];

        subjectChart.update();
    }

    document.addEventListener('DOMContentLoaded', function() {
        const subjectCtx = document.getElementById('subjectChart').getContext('2d');
        subjectChart = new Chart(subjectCtx, {
            type: 'radar',
            data: {
                labels: [],
                datasets: []
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { display: true },
                        suggestedMin: 0,
                        suggestedMax: 100
                    }
                },
                plugins: {
                    legend: { position: 'top' },
                    title: { display: false }
                }
            }
        });

        fetchAndUpdateSubjectPerformance();
    });
</script>

    
    <script>
        
        
        document.addEventListener('DOMContentLoaded', function() {
            // Subject Performance Chart
            const subjectCtx = document.getElementById('subjectChart').getContext('2d');
            const subjectChart = new Chart(subjectCtx, {
                type: 'radar',
                data: {
                    labels: ['Addition', 'Subtraction', 'Multiplication', 'Division', 'Science', 'General Knowledge', 'Reasoning'],
                    datasets: [{
                        label: 'Current Performance',
                        data: [85, 72, 92, 65, 88, 70, 85],
                        backgroundColor: 'rgba(67, 97, 238, 0.2)',
                        borderColor: 'rgba(67, 97, 238, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(67, 97, 238, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(67, 97, 238, 1)'
                    }, {
                        label: 'Previous Month',
                        data: [80, 68, 85, 60, 82, 65, 78],
                        backgroundColor: 'rgba(153, 153, 153, 0.2)',
                        borderColor: 'rgba(153, 153, 153, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(153, 153, 153, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(153, 153, 153, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: false,
                            text: 'Subject Performance'
                        }
                    }
                }
            });
        
            // Weekly Progress Chart
            const weeklyCtx = document.getElementById('weeklyChart').getContext('2d');
            const weeklyChart = new Chart(weeklyCtx, {
                type: 'line',
                data: {
                    labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
                    datasets: [{
                        label: 'Time Spent (minutes)',
                        data: [45, 60, 75, 30, 90, 120, 60],
                        backgroundColor: 'rgba(67, 97, 238, 0.1)',
                        borderColor: 'rgba(67, 97, 238, 1)',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Minutes'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.raw} minutes`;
                                }
                            }
                        }
                    }
                }
            });
        
            // Child Card Selection
            const childCards = document.querySelectorAll('.child-card');
            childCards.forEach(card => {
                card.addEventListener('click', function() {
                    childCards.forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
        
            // Time Range Filter
            const timeRange = document.getElementById('timeRange');
            timeRange.addEventListener('change', function() {
                // This would typically fetch new data based on the selected time range
                // For demo purposes, we'll just update the charts with random data
                updateChartsForTimeRange(this.value);
            });
        
            function updateChartsForTimeRange(range) {
                // Update subject chart with new random data
                const newSubjectData = subjectChart.data.datasets[0].data.map(() => 
                    Math.floor(Math.random() * 30) + 70
                );
                subjectChart.data.datasets[0].data = newSubjectData;
                subjectChart.update();
        
                // Update weekly chart with new random data
                const newWeeklyData = weeklyChart.data.datasets[0].data.map(() => 
                    Math.floor(Math.random() * 90) + 30
                );
                weeklyChart.data.datasets[0].data = newWeeklyData;
                weeklyChart.update();
        
                // Update stats
                document.querySelectorAll('.stat-value').forEach(stat => {
                    if (stat.textContent.includes('Level')) {
                        // Don't randomize level
                        return;
                    }
                    if (stat.textContent.includes('%')) {
                        // For percentage stats
                        const newValue = Math.floor(Math.random() * 20) + 70;
                        stat.textContent = `${newValue}%`;
                    } else if (stat.textContent.includes('days')) {
                        // For streak stats
                        const newValue = Math.floor(Math.random() * 20) + 5;
                        stat.textContent = `${newValue} days`;
                    } else if (stat.textContent.includes('hours')) {
                        // For time stats
                        const newValue = (Math.random() * 15 + 5).toFixed(1);
                        stat.textContent = `${newValue} hours`;
                    }
                });
            }
        
            // Recommendation buttons
            const recommendBtns = document.querySelectorAll('.recommend-btn');
            recommendBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const originalText = this.textContent;
                    this.textContent = 'Recommended!';
                    this.style.backgroundColor = '#4caf50';
                    
                    setTimeout(() => {
                        this.textContent = originalText;
                        this.style.backgroundColor = '';
                    }, 2000);
                });
            });
        });
        const sidebarToggle = document.getElementById("sidebarToggle");
        const sidebar = document.querySelector(".sidebar");
      
        sidebarToggle.addEventListener("click", function() {
          sidebar.classList.toggle("active");
          // Change icon: cross if sidebar is active, hamburger if not
          if (sidebar.classList.contains("active")) {
            sidebarToggle.textContent = "✖";  // Cross icon
          } else {
            sidebarToggle.textContent = "☰";  // Hamburger icon
          }
        });
    </script>
</body>
</html>